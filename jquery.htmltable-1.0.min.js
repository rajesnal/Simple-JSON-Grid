/**************************************************************
 * 
 * 	Name	: Rajesh Kumar Nallabanda
 * 	Email	: rajeshkumar.nallabanda@gmail.com
 *  License : MIT 
 * 
 **************************************************************/

(function($){
	var opts=null;var settings={default_Table:{ColoumnSorting:true,IndexColoumn:true,CheckBoxColoumn:true,DefaultDisplayRowCount:10,PerPageRowCount:100,MappingWithJson:[],	MaxTableHeight:360,EmptyIconClass:"",EmptyIconCalback:null,JSONArrayObject:null,ShiftSelectFlag:true,TableEditable:false,ThemePrefix:"ui",SearchEnableFlag:true},default_Header:{MappedJsonVar:"",HeaderLabel:"Header",IsEditable:false},default_Labels:{FooterShowing_Lbl:"",FooterSelected_Lbl:"",FooterModified_Lbl:"",FooterTotal_Lbl:"",ColHeader_Lbls:[]}};function cHT(o){o.tO=document.createElement("div");$(o.tO).addClass("gridTable").addClass(o.p.cP+"-table-layout");if(opts.SearchEnableFlag){var sHH=document.createElement("div");$(sHH).addClass("gridsearchHeaderHold").addClass(o.p.cP+"-header-row").addClass(o.p.cP+"-state-default").appendTo(o.tO);var sI=document.createElement("input");$(sI).attr("type","text").addClass("gridSearchInput").keydown(function(event){if(event.which==13){event.preventDefault();}}).keyup(function(event){if(event.which==13){event.preventDefault();} o.sJT();});var sCD=document.createElement("div");$(sCD).addClass("gridTableHeaderSearchCount").addClass(o.p.cP+"-state-active").addClass(o.p.cP+"-search-count");$("<div></div>").addClass("gridTableHeaderSearchHold").addClass(o.p.cP+"-state-default").addClass(o.p.cP+"-search-hold").append(sCD).append(sI).appendTo(sHH).click(function(){$(sI).focus();return false;});}var tHO=document.createElement("div");$(tHO).addClass("gridTableHold").appendTo(o.tO);o=cFR(cDR(cHR(o,tHO),tHO));o.$this.html(o.tO);if(o.jAO!=null){if(opts.SearchEnableFlag){$(o.tO).find(".gridTableHeaderSearchCount").html(o.jAO.length);}o.uFDD();o.uFSI(o.p.pI);o.uTL();o.sT();}else{$(o.tO).hide();}$(document).mousemove(function(e){if(o.p.dE.state){var dX=e.pageX-o.p.dE.x;var cI=o.p.dE.cI;var cE=$(o.tO).find(".gridTableHeader .gridTableHeaderCell:eq("+(cI-1)+")");var cW=cE.width();var mW=parseInt(cE.css("min-width"));if(mW==0){mW+=parseInt(cE.find(".gridTableHeaderCellLabel").css("min-width"));mW+=cE.find(".gridTableHeaderCellIconHold").width()+2;}cW=cW+dX;if(mW<cW){cE.width(cW);cE.find(".gridTableHeaderCellLabel").width(cW-(cE.find(".gridTableHeaderCellIconHold").width()+4));}o.p.dE.x=e.pageX;}}).mouseup(function(){if(o.p.dE.state){o.p.dE.state=false;o.rZ();}});return o;};function cHR(o,holdObj){var hO=document.createElement("div");$(hO).addClass("gridTableHeader").addClass(o.p.cP+"-header-row").addClass(o.p.cP+"-state-default").appendTo(holdObj);var cI=1;if(opts.IndexColoumn){var iHC=document.createElement("div");$(iHC).addClass("gridTableHeaderSno").addClass("gridTableHeaderCell").addClass(o.p.cP+"-header-cell").addClass(o.p.cP+"-state-default").mouseover(function(){$(this).addClass(o.p.cP+"-state-hover");}).mouseout(function(){$(this).removeClass(o.p.cP+"-state-hover");}).appendTo(hO);$("<div></div>").addClass("gridHeaderCellSeperator").attr("colIndex",cI).mousedown(function(e){if(!o.p.dE.state){o.p.dE.elem=this;o.p.dE.x=e.pageX;o.p.dE.state=true;o.p.dE.cI=$(this).attr("colIndex");}return false;}).appendTo(hO);cI++;}if(opts.CheckBoxColoumn){var cHC=document.createElement("div");$(cHC).addClass("gridTableHeaderCell").addClass("gridTableHeaderCb").addClass(o.p.cP+"-header-cell").addClass(o.p.cP+"-state-default").mouseover(function(){$(this).addClass(o.p.cP+"-state-hover");}).mouseout(function(){$(this).removeClass(o.p.cP+"-state-hover");}).appendTo(hO);if(!o.tE){var cBHI=document.createElement("input");$(cBHI).attr("name","gridSelectAll").attr("type","checkbox").addClass("gridSelectAll").click(function(){o.tHCB();}).appendTo(cHC);var cBAI = document.createElement("span");$(cBAI).addClass("gridTableHeaderCellIcon").addClass(o.p.cP+"-icon").addClass(o.p.cP+"-icon-triangle-1-n");var cBDI=document.createElement("span");$(cBDI).addClass("gridTableHeaderCellIcon").addClass(o.p.cP+"-icon").addClass(o.p.cP+"-icon-triangle-1-s");$("<div></div>").addClass("gridIconHold").append(cBAI).append(cBDI).click(function(){var sO='asc';if($(cBAI).is(":hidden")&&$(cBDI).is(":hidden")){$(hO).find(".gridTableHeaderCellIcon").hide();$(cBAI).show();}else if($(cBAI).is(":visible") && $(cBDI).is(":hidden")){$(hO).find(".gridTableHeaderCellIcon").hide();sO='desc';$(cBDI).show();}else if($(cBAI).is(":hidden")&&$(cBDI).is(":visible")){$(hO).find(".gridTableHeaderCellIcon").hide();sO='asc';$(cBAI).show();}o.tRS('c',sO);return false;}).appendTo(cHC);}$("<div></div>").addClass("gridHeaderCellSeperator").addClass(o.p.cP+"-state-default").attr("colIndex",cI).mousedown(function(e){if(!o.p.dE.state){o.p.dE.elem=this;o.p.dE.x=e.pageX;o.p.dE.state=true;o.p.dE.cI=$(this).attr("colIndex");}return false;}).appendTo(hO);cI++;}$.each(opts.MappingWithJson,function(i,obj){if(opts.MappingWithJson[i]!==undefined){opts.MappingWithJson[i]=$.extend({},settings.default_Header,opts.MappingWithJson[i]);var tCH=document.createElement("div");$(tCH).addClass("gridTableHeaderCell").addClass(o.p.cP+"-header-cell").addClass(o.p.cP+"-state-default").mouseover(function(){$(this).addClass(o.p.cP+"-state-hover");}).mouseout(function(){$(this).removeClass(o.p.cP+"-state-hover");}).attr("mappedjsonvar",obj.MappedJsonVar).appendTo(hO);if(o.tE){$(tCH).attr("IsEditable",obj.IsEditable);}$("<label>"+obj.HeaderLabel+"</label>").addClass("gridTableHeaderCellLabel").attr("mappedjsonvar",obj.MappedJsonVar).appendTo(tCH);if(opts.ColoumnSorting&&!o.tE){var tCHSI=document.createElement("div");$(tCHSI).addClass("gridTableHeaderCellIconHold").appendTo(tCH);var sAI=document.createElement("span");$(sAI).addClass("gridTableHeaderCellIcon").addClass(o.p.cP+"-icon").addClass(o.p.cP+"-icon-triangle-1-n").appendTo(tCHSI);var sDI=document.createElement("span");$(sDI).addClass("gridTableHeaderCellIcon").addClass(o.p.cP+"-icon").addClass(o.p.cP+"-icon-triangle-1-s").appendTo(tCHSI);$(tCH).click(function(){var sO='asc';if($(sAI).is(":hidden")&&$(sDI).is(":hidden")){$(hO).find(".gridTableHeaderCellIcon").hide();$(sAI).show();}else if($(sAI).is(":visible")&&$(sDI).is(":hidden")){$(hO).find(".gridTableHeaderCellIcon").hide();sO='desc';$(sDI).show();}else if($(sAI).is(":hidden")&&$(sDI).is(":visible")){$(hO).find(".gridTableHeaderCellIcon").hide();sO='asc';$(sAI).show();}o.tRS(opts.MappingWithJson[i].MappedJsonVar,sO);return false;});}$("<div></div>").addClass("gridHeaderCellSeperator").addClass(o.p.cP+"-state-default").attr("colIndex",cI).mousedown(function(e){if (!o.p.dE.state){o.p.dE.elem=this;o.p.dE.x=e.pageX;o.p.dE.state=true;o.p.dE.cI=$(this).attr("colIndex");}return false;}).appendTo(hO);cI++;}});return o;};function cDR(o,holdObj){var dRO=document.createElement("div");$(dRO).addClass("gridTableContents").css("max-height",opts.MaxTableHeight).addClass(o.p.cP+"-state-default").appendTo(holdObj);for(var idx=0;idx<opts.PerPageRowCount;idx++){o=cDRo(idx,dRO,o);}if(opts.CheckBoxColoumn && opts.ShiftSelectFlag){if(!window.ActiveXObject){$(window).keydown(function(e){if(e.shiftKey){o.p.sF = true;}});}else{$(o.tO).keydown(function(e){if(e.shiftKey){o.p.sF = true;}});}}return o;};function cDRo(idx,dRO,o){var rC=o.p.cP+"-row-odd";if(idx%2==0){rC=o.p.cP+"-row-even";}var dROj=document.createElement("div");$(dROj).addClass(o.p.cP+"-state-default").addClass("dataGridRow").addClass(rC).css("display","none").mouseover(function(){$(this).addClass(o.p.cP+"-state-hover"); $(this).addClass(o.p.cP+"-row-hover"); $(this).focus();}).mouseout(function(){$(this).removeClass(o.p.cP+"-state-hover"); $(this).removeClass(o.p.cP+"-row-hover");}).appendTo(dRO);if(opts.CheckBoxColoumn&&!o.tE){$(dROj).click(function(){o.tRCB(idx);});}if(opts.IndexColoumn){$("<div></div>").addClass("dataGridRowCell").addClass("dataGridRowSnoCell").addClass(o.p.cP+"-row-cell").appendTo(dROj);}if(opts.CheckBoxColoumn){var dCBO=document.createElement("div");$(dCBO).addClass("dataGridRowCell").addClass(o.p.cP+"-row-cell").addClass("dataGridRowCbCell").appendTo(dROj);if(o.tE){$(dCBO).click(function(){o.tRCB(idx);});}}$.each(opts.MappingWithJson,function(i,obj){if(opts.MappingWithJson[i]!==undefined){var dCO = document.createElement("div");$(dCO).addClass("dataGridRowCell").addClass(o.p.cP+"-row-cell").attr("MappedJsonVar",obj.MappedJsonVar).appendTo(dROj);if(o.tE){$(dCO).attr("IsEditable",obj.IsEditable);}}});o.p.dRE.push(dROj);return o;};function cFR(o){var fO = document.createElement("div");$(fO).addClass("gridTableFooter").addClass(o.p.cP+"-footer-row").addClass(o.p.cP+"-state-default").appendTo(o.tO);var fNIH=document.createElement("div");$(fNIH).addClass("gridTableFooterNavInfoHold").appendTo(fO);if(opts.IndexColoumn){$(fNIH).append("(<label class='footerShowingLbl'>Showing</label> : <label class='footerRecordInfoLabel1'></label>)");}if(opts.CheckBoxColoumn){if(o.tE){$(fNIH).append("( <label class='footerModifiedLbl'>Modified</label> : ");}else{$(fNIH).append("( <label class='footerSelectedLbl'>Selected</label> : ");}$(fNIH).append("<label class='footerSelectedLabel'>0</label>").append(")");}$(fNIH).append("(<label class='footerTotalLbl'>Total</label> : <label class='footerRecordInfoLabel2'></label>)");var fPNO = document.createElement("div");$(fPNO).addClass("gridTableFooterNavHold").appendTo(fO);$("<div></div>").addClass("gridTableFooterNavIcon").addClass(o.p.cP+"-state-default").addClass(o.p.cP+"-corner-all").html('<span class="gridIconHold '+o.p.cP+'-icon '+o.p.cP+'-icon-seek-first"></span>').mouseover(function(){$(this).addClass(o.p.cP+"-state-hover");}).mouseout(function(){$(this).removeClass(o.p.cP+"-state-hover");}).click(function(){o.gFP();return false;}).appendTo(fPNO);$("<div></div>").addClass("gridTableFooterNavIcon").addClass(o.p.cP+"-state-default").addClass(o.p.cP+"-corner-all").html('<span class="gridIconHold '+o.p.cP+'-icon '+o.p.cP+'-icon-seek-prev"></span>').mouseover(function(){$(this).addClass(o.p.cP+"-state-hover");}).mouseout(function(){$(this).removeClass(o.p.cP+"-state-hover");}).click(function(){o.gPP();return false;}).appendTo(fPNO);var fPNSH=document.createElement("div");$(fPNSH).addClass("gridTableFooterNavSelectHold").appendTo(fPNO);$("<select></select>").addClass("footerPageDropDownHold").change(function(){o.gP($(this).val());return false;}).appendTo(fPNSH);$("<label></label>").addClass("footerPageTotalLabel").appendTo(fPNSH);$("<div></div>").addClass("gridTableFooterNavIcon").addClass(o.p.cP+"-state-default").addClass(o.p.cP+"-corner-all").html('<span class="gridIconHold '+o.p.cP+'-icon '+o.p.cP+'-icon-seek-next"></span>').mouseover(function(){$(this).addClass(o.p.cP+"-state-hover");}).mouseout(function(){$(this).removeClass(o.p.cP+"-state-hover");}).click(function(){o.gNP();return false;}).appendTo(fPNO);$("<div></div>").addClass("gridTableFooterNavIcon").addClass(o.p.cP+"-state-default").addClass(o.p.cP+"-corner-all").html('<span class="gridIconHold '+o.p.cP+'-icon '+o.p.cP+'-icon-seek-end"></span>').mouseover(function(){$(this).addClass(o.p.cP+"-state-hover");}).mouseout(function(){$(this).removeClass(o.p.cP+"-state-hover");}).click(function(){o.gLP();return false;}).appendTo(fPNO);var fPCSH=document.createElement("div");$(fPCSH).addClass("gridTableFooterPageCountSelectHold").appendTo(fO);$("<select>"+gSO()+"</select>").addClass("footerPageCountDropDownHold").change(function(){o.uDC($(this).val());return false;}).appendTo(fPCSH);if(opts.EmptyIconClass!=undefined&&opts.EmptyIconClass!=""){var eHC=document.createElement("div");$(eHC).addClass("gridTableFooterEmpty").addClass(o.p.cP+"-header-cell").addClass(o.p.cP+"-state-default").mouseover(function(){$(this).addClass(o.p.cP+"-state-hover");}).mouseout(function(){$(this).removeClass(o.p.cP+"-state-hover");}).append("<span class='"+opts.EmptyIconClass+"'></span>").click(function(event){event.preventDefault();if(opts.EmptyIconCalback!=null&&$.isFunction(opts.EmptyIconCalback)){opts.EmptyIconCalback.call(this);}return false;}).appendTo(fO);}return o;};function gSO(){var oS='';var id=opts.DefaultDisplayRowCount;var itr=1;while(id<opts.PerPageRowCount){id=opts.DefaultDisplayRowCount+(itr-1)*opts.DefaultDisplayRowCount;oS+='<option>'+id+'</option>';itr++;}return oS;};function genTableSpecificJSON(JAO,sF){if(JAO==null){return null;}var JQA=[];for(var idx=0;idx<JAO.length;idx++){if(JAO[idx]!==undefined){if(sF){JQA.push($.extend(true,{c:false,t:idx},JAO[idx]));}else{JQA.push($.extend(true,{c:false},JAO[idx]));}}}return JQA;};
	$.fn.htmltable=function(options){var os=[],r_d;this.each(function(){var o;if($(this).data('o')===undefined){if(options===undefined){return null;}o={};o.$this=$(this);o.$this.data('o',o);opts=$.extend({},settings.default_Table,options);o.tE=false;if(opts.TableEditable){o.tE=true;o.mR={};opts.ShiftSelectFlag=false;}o.jAO=genTableSpecificJSON(opts.JSONArrayObject,opts.SearchEnableFlag);o.p={tRC:(o.jAO!=null)?o.jAO.length:0,dRC:opts.DefaultDisplayRowCount,sI:0,pI:1,sR:0,sF:false,sSI:-1,sSRI:-1,sAT:-1};o.p.rC=(o.p.tRC<o.p.dRC)?o.p.tRC:o.p.dRC;o.p.eI=o.p.rC-1;o.p.pC=Math.ceil(o.p.tRC/o.p.rC);o.p.sS=o.p.sI+1;o.p.eS=o.p.eI+1;o.p.dRE=[];o.p.dE={elem:null,x:0,cI:0,state:false};if(opts.SearchEnableFlag){o.sEF=true;o.oJAO=o.jAO;}if($.trim(opts.ThemePrefix)!=''){o.p.cP=opts.ThemePrefix;}else{o.p.cP=settings.default_Table.ThemePrefix;}o.tHCB=function(){if($(o.tO).find(".gridSelectAll").prop('checked')){var lI=0;for(var idx=o.p.sI;idx<=o.p.eI;idx++){o.jAO[idx].c=true;$(o.p.dRE[lI]).find(".dataGridRowCb").prop('checked',true);$(o.p.dRE[lI]).addClass(o.p.cP+"-state-active").addClass(o.p.cP+"-row-selected");lI++;}for(var idx1=0;idx1<o.p.sI;idx1++){o.jAO[idx1].c=true;}for(var idx2=o.p.eI+1;idx2<o.p.tRC;idx2++){o.jAO[idx2].c=true;}o.p.sR=o.p.tRC;}else{var lI=0;for(var idx=o.p.sI;idx<=o.p.eI;idx++){o.jAO[idx].c=false;$(o.p.dRE[lI]).find(".dataGridRowCb").prop('checked',false);$(o.p.dRE[lI]).removeClass(o.p.cP+"-state-active").removeClass(o.p.cP+"-row-selected");lI++;}for(var idx1=0;idx1<o.p.sI;idx1++){o.jAO[idx1].c=false;}for(var idx2=o.p.eI+1;idx2<o.p.tRC;idx2++){o.jAO[idx2].c=false;}o.p.sR = 0;}o.p.sSI=-1;o.p.sSRI=-1;o.uFSR();return false;};o.tRCB=function(id){var jId=$(o.p.dRE[id]).attr('target');if(o.p.sF){o.p.sF=false;if(o.jAO[jId].c){if(o.p.sSI==-1){o.jAO[jId].c=false;$(o.p.dRE[id]).find(".dataGridRowCb").prop('checked',false);$(o.p.dRE[id]).removeClass(o.p.cP+"-state-active").removeClass(o.p.cP+"-row-selected");o.p.sR--;o.p.sSI=jId;o.p.sSRI=id;o.p.sAT=2;}else{if(o.p.sAT!=2){o.jAO[jId].c=false;$(o.p.dRE[id]).removeClass(o.p.cP+"-state-active").removeClass(o.p.cP+"-row-selected");$(o.p.dRE[id]).find(".dataGridRowCb").prop('checked',false);o.p.sR--;}else{var d=o.p.sSI-jId;if(d<0){if(o.p.sSI>=o.p.sI&&jId<=o.p.eI){var lI=o.p.sSRI+1;for(var idx=parseInt(o.p.sSI)+1;idx<=jId;idx++){if(o.jAO[idx].c){o.jAO[idx].c=false;$(o.p.dRE[lI]).find(".dataGridRowCb").prop('checked',false);$(o.p.dRE[lI]).removeClass(o.p.cP+"-state-active").removeClass(o.p.cP+"-row-selected");o.p.sR--;}lI++;}}else{var lI=0;for(var idx=o.p.sI;idx<=jId;idx++){if(o.jAO[idx].c){o.jAO[idx].c = false;$(o.p.dRE[lI]).find(".dataGridRowCb").prop('checked',false);$(o.p.dRE[lI]).removeClass(o.p.cP+"-state-active").removeClass(o.p.cP+"-row-selected");o.p.sR--;}lI++;}for(var idx=parseInt(o.p.sSI)+1;idx<o.p.sI;idx++){if(o.jAO[idx].c){o.jAO[idx].c=false;o.p.sR--;}}}}else{if(jId>=o.p.sI&&o.p.sSI<=o.p.eI){var lI=id;for(var idx=jId;idx<parseInt(o.p.sSI);idx++){if(o.jAO[idx].c){o.jAO[idx].c=false;$(o.p.dRE[lI]).find(".dataGridRowCb").prop('checked',false);$(o.p.dRE[lI]).removeClass(o.p.cP+"-state-active").removeClass(o.p.cP+"-row-selected");o.p.sR--;}lI++;}}else{var lI=id;for(var idx=jId;idx<=o.p.eI;idx++){if(o.jAO[idx].c){o.jAO[idx].c=false;$(o.p.dRE[lI]).find(".dataGridRowCb").prop('checked',false);$(o.p.dRE[lI]).removeClass(o.p.cP+"-state-active").removeClass(o.p.cP+"-row-selected");o.p.sR--;}lI++;}for(var idx=o.p.eI+1;idx<o.p.sSI;idx++){if(o.jAO[idx].c){o.jAO[idx].c=false;o.p.sR--;}}}}}o.p.sSI=-1;o.p.sSRI=-1;o.p.sAT=-1;}}else{if(o.p.sSI==-1){o.jAO[jId].c=true;$(o.p.dRE[id]).find(".dataGridRowCb").prop('checked',true);$(o.p.dRE[id]).addClass(o.p.cP+"-state-active").addClass(o.p.cP+"-row-selected");o.p.sR++;o.p.sSI=jId;o.p.sSRI=id;o.p.sAT=1;}else{if(o.p.sAT!=1){o.jAO[jId].c=true;$(o.p.dRE[id]).addClass(o.p.cP+"-state-active").addClass(o.p.cP+"-row-selected");$(o.p.dRE[id]).find(".dataGridRowCb").prop('checked',true);o.p.sR++;}else{var d=o.p.sSI-jId;if(d<0){if(o.p.sSI>=o.p.sI&&jId<=o.p.eI){var lI=o.p.sSRI+1;for(var idx=parseInt(o.p.sSI)+1;idx<=jId;idx++){if(!o.jAO[idx].c){o.jAO[idx].c=true;$(o.p.dRE[lI]).find(".dataGridRowCb").prop('checked',true);$(o.p.dRE[lI]).addClass(o.p.cP+"-state-active").addClass(o.p.cP+"-row-selected");o.p.sR++;}lI++;}}else{var lI=0;for(var idx=o.p.sI;idx<=jId;idx++){if(!o.jAO[idx].c){o.jAO[idx].c=true;$(o.p.dRE[lI]).find(".dataGridRowCb").prop('checked',true);$(o.p.dRE[lI]).addClass(o.p.cP+"-state-active").addClass(o.p.cP+"-row-selected");o.p.sR++;}lI++;}for(var idx=parseInt(o.p.sSI)+1;idx<o.p.sI;idx++){if(!o.jAO[idx].c){o.jAO[idx].c=true;o.p.sR++;}}}}else{if(jId>=o.p.sI&&o.p.sSI<=o.p.eI){var lI=id;for(var idx=jId;idx<parseInt(o.p.sSI);idx++){if(!o.jAO[idx].c){o.jAO[idx].c=true;$(o.p.dRE[lI]).find(".dataGridRowCb").prop('checked',true);$(o.p.dRE[lI]).addClass(o.p.cP+"-state-active").addClass(o.p.cP+"-row-selected");o.p.sR++;}lI++;}}else{var lI=id;for(var idx=jId;idx<=o.p.eI;idx++){if(!o.jAO[idx].c){o.jAO[idx].c=true;$(o.p.dRE[lI]).find(".dataGridRowCb").prop('checked',true);$(o.p.dRE[lI]).addClass(o.p.cP+"-state-active").addClass(o.p.cP+"-row-selected");o.p.sR++;}lI++;}for(var idx=o.p.eI+1;idx<o.p.sSI;idx++){if(!o.jAO[idx].c){o.jAO[idx].c=true;o.p.sR++;}}}}}o.p.sSI=-1;o.p.sSRI=-1;o.p.sAT=-1;}}}else{o.p.sSI=-1;o.p.sSRI=-1;o.p.sAT=-1;if(o.jAO[jId].c){o.jAO[jId].c=false;$(o.p.dRE[id]).removeClass(o.p.cP+"-state-active").removeClass(o.p.cP+"-row-selected");$(o.p.dRE[id]).find(".dataGridRowCb").prop('checked',false);o.p.sR--;if(o.tE){var idx=jId;if(o.sEF){idx=o.jAO[jId].t;}delete o.mR[idx];$(o.p.dRE[id]).find(".dataGridRowCell").each(function(){if(!($(this).hasClass("dataGridRowSnoCell")||$(this).hasClass("dataGridRowCbCell"))){var oI=$(this).attr("MappedJsonVar");if(typeof oI!=='undefined'&&oI!==false){$(this).html(o.jAO[jId][oI]);}}});}}else{o.jAO[jId].c=true;$(o.p.dRE[id]).addClass(o.p.cP+"-state-active").addClass(o.p.cP+"-row-selected");$(o.p.dRE[id]).find(".dataGridRowCb").prop('checked',true);o.p.sR++;if(o.tE){var nO=$.extend({},o.jAO[jId]);delete nO.c;var idx=jId;if(o.sEF){idx = o.jAO[jId].t;delete nO.t;}o.mR[idx] = nO;$(o.p.dRE[id]).find(".dataGridRowCell").each(function(){if(!($(this).hasClass("dataGridRowSnoCell")||$(this).hasClass("dataGridRowCbCell"))){var oI=$(this).attr("MappedJsonVar");var eF=$(this).attr("IsEditable");if(typeof oI!=='undefined'&&oI!==false){if(eF=="true"){var iO=document.createElement("input");$(iO).attr("type","text").addClass("inputCtrl").attr("target",idx).val(o.jAO[jId][oI]).blur(function(){o.mR[$(this).attr("target")][oI] = $.trim($(this).val());return false;});$(this).html(iO);}else{$(this).html(o.jAO[jId][oI]);}}}});}}}o.uFSR();return false;};o.tRS=function(p,sO){o.jAO=o.jAO.sort(function(a,b){if(sO=='asc'){return(a[p]>b[p])?1:((a[p]<b[p])?-1:0);}else{return(b[p]>a[p])?1:((b[p]<a[p])?-1:0);}});o.p.rC=(o.p.tRC<o.p.dRC)?o.p.tRC:o.p.dRC;o.p.sI=0;o.p.eI=o.p.rC-1;o.p.pI=1;o.p.sS=o.p.sI+1;o.p.eS=o.p.eI+1;o.uFSI(o.p.pI);o.uTL();};o.gFP=function(){o.gP(1);o.uFSI(1);};o.gLP=function(){o.gP(o.p.pC);o.uFSI(o.p.pC);};o.gPP=function(){if(o.p.pI==1){return;}o.gP(parseInt(o.p.pI)-1);o.uFSI(o.p.pI);};o.gNP=function(){if(o.p.pI==o.p.pC){return;}o.gP(parseInt(o.p.pI)+1);o.uFSI(o.p.pI);};o.gP=function(tPI){tPI=parseInt(tPI);if(tPI==o.p.pI){return;}o.p.sI=(tPI-1)*o.p.rC;var d1=o.p.tRC-o.p.sI-1;var d2=o.p.rC-1;o.p.eI=o.p.sI+((d1<d2)?d1:d2);o.p.sS=o.p.sI+1;o.p.eS=o.p.eI+1;o.p.pI=tPI;o.uTL();};o.updateTableLabels=function(lbls){var lbls=$.extend({},settings.default_Labels,lbls);var lblF=false;if($.trim(lbls.FooterShowing_Lbl)!=""){$(o.tO).find(".footerShowingLbl").html(lbls.FooterShowing_Lbl);lblF=true;}if($.trim(lbls.FooterSelected_Lbl)!=""){$(o.tO).find(".footerSelectedLbl").html(lbls.FooterSelected_Lbl);lblF=true;}if($.trim(lbls.FooterModified_Lbl)!=""){$(o.tO).find(".footerModifiedLbl").html(lbls.FooterModified_Lbl);lblF=true;}if($.trim(lbls.FooterTotal_Lbl)!=""){$(o.tO).find(".footerTotalLbl").html(lbls.FooterTotal_Lbl);lblF=true;}$.each(lbls.ColHeader_Lbls,function(i,obj){var mV=$.trim(obj.MappedJsonVar);var hL=$.trim(obj.HeaderLabel);if(hL!=""&&mV!=""){$(o.tO).find(".gridTableHeaderCellLabel[mappedjsonvar='"+mV+"']").html(hL);lblF=true;}});if(lblF){o.rZ();}};o.uDC=function(val){o.p.dRC=parseInt(val);o.p.rC=(o.p.tRC<o.p.dRC)?o.p.tRC:o.p.dRC;o.p.eI=o.p.rC-1;o.p.sI=0;o.p.pI=1;o.p.pC=Math.ceil(o.p.tRC/o.p.rC);o.p.sS=o.p.sI+1;o.p.eS=o.p.eI+1;o.p.sF=false;o.p.sSI=-1;o.p.sSRI=-1;o.p.sAT=-1;o.uFSR();o.uFDD();o.uTL();};o.uFSI=function(id){$(o.tO).find(".footerPageDropDownHold").val(id);};o.uFDD=function(){var fPO='';for(var pC=1;pC<=o.p.pC;pC++){fPO+='<option value="'+pC+'">'+pC+'</option>';}$(o.tO).find(".footerPageDropDownHold").html(fPO);$(o.tO).find(".footerPageTotalLabel").html(" / "+o.p.pC);};o.uFSR=function(){$(o.tO).find(".footerSelectedLabel").html(o.p.sR);if(o.p.sR==o.p.tRC){$(o.tO).find(".gridSelectAll").prop('checked',true);$(o.tO).find(".gridSelectAll").prop('indeterminate',false);}else if(o.p.sR==0){$(o.tO).find(".gridSelectAll").prop('checked',false);$(o.tO).find(".gridSelectAll").prop('indeterminate',false);}else{$(o.tO).find(".gridSelectAll").prop('indeterminate',true);}};o.uTL=function(){var fI=0;for(var idx=o.p.sI;idx<=o.p.eI;idx++){var dF=false;$(o.p.dRE[fI]).find(".dataGridRowCell").each(function(){if($(this).hasClass("dataGridRowSnoCell")){$(this).html(idx+1);}else if($(this).hasClass("dataGridRowCbCell")){$(this).html('');$("<input type='checkbox' class='dataGridRowCb'/>").prop('checked',o.jAO[idx].c).appendTo($(this));$(o.p.dRE[fI]).attr('target',idx);if(o.jAO[idx].c){$(o.p.dRE[fI]).addClass(o.p.cP+"-state-active").addClass(o.p.cP+"-row-selected");}else{$(o.p.dRE[fI]).removeClass(o.p.cP+"-state-active").removeClass(o.p.cP+"-row-selected");}}else{var oI=$(this).attr("MappedJsonVar");var eF=$(this).attr("IsEditable");var idx1=idx;if(o.sEF){idx1=o.jAO[idx].t;}if(typeof oI!=='undefined'&&oI!==false){if(o.jAO[idx].c&&o.tE&&eF=="true"){var iO=document.createElement("input");$(iO).attr("type","text").addClass("inputCtrl").attr("target",idx1).val(o.mR[idx1][oI]).blur(function(){o.mR[$(this).attr("target")][oI]=$.trim($(this).val());return false;});$(this).html(iO);}else{$(this).html(o.jAO[idx][oI]);}dF=true;}}});if(dF){$(o.p.dRE[fI]).show();fI++;}}$(o.tO).find(".footerRecordInfoLabel1").html(o.p.sS+" - "+o.p.eS);if(o.sEF){$(o.tO).find(".footerRecordInfoLabel2").html(o.oJAO.length);}else{$(o.tO).find(".footerRecordInfoLabel2").html(o.p.tRC);}o.eT(fI);};o.eT=function(fI){if(fI==null){fI=0;$(o.tO).find(".gridTableHeaderCellIcon").hide();}for(;fI<opts.PerPageRowCount;fI++){if($(o.p.dRE[fI]).is(":hidden")){break;}$(o.p.dRE[fI]).hide();$(o.p.dRE[fI]).find(".dataGridRowCell").html('');$(o.p.dRE[fI]).removeClass(o.p.cP+"-state-active").removeClass(o.p.cP+"-row-selected");}};o.sJT=function(){var sI=$.trim($(o.tO).find(".gridSearchInput").val());if(sI==''){o.jAO=o.oJAO;o.p.tRC=o.jAO.length;o.p.rC=(o.p.tRC<o.p.dRC)?o.p.tRC:o.p.dRC;o.p.sI=0;o.p.eI=o.p.rC-1;o.p.pI=1;o.p.sS=o.p.sI+1;o.p.eS=o.p.eI+1;o.uFSI(o.p.pI);o.uTL();}else{var clms = [];$(o.tO).find(".gridTableHeaderCell").each(function(){if(!($(this).hasClass("gridTableHeaderSno") ||$(this).hasClass("gridTableHeaderCb") ||$(this).hasClass("gridTableHeaderEmpty"))){var oI=$(this).attr("MappedJsonVar");var ef='false';if(o.tE){ef=$(this).attr("IsEditable");}if(typeof oI!=='undefined'&&oI!==false&&ef=='false'){clms.push(oI);}}});var jA=[];var re=new RegExp(sI,"gi");for(var idx=0;idx<o.oJAO.length;idx++){var ff = false;iL:for(var cId=0;cId<clms.length;cId++){if(o.oJAO[idx].c||re.test(o.oJAO[idx][clms[cId]])){ff=true;break iL;}}if(ff){jA.push(o.oJAO[idx]);}}o.jAO=jA;o.p.tRC=o.jAO.length;o.p.rC=(o.p.tRC<o.p.dRC)?o.p.tRC:o.p.dRC;o.tRS('c','desc');}$(o.tO).find(".gridTableHeaderSearchCount").html(o.p.tRC);o.p.pC=0;if(o.p.rC!=0){o.p.pC=Math.ceil(o.p.tRC/o.p.rC);}o.uFDD();};o.rZ=function(){var mW=$(o.tO).parent().width()-5;var mHW=0;$(o.tO).find(".gridTableHeaderCell").each(function(i){var cW=$(this).width();$(o.tO).find(".dataGridRow .dataGridRowCell:nth-child("+(i+1)+")").width(cW);mHW+=cW+7;});mHW+=20;var sCW=$(o.tO).find(".gridTableHeaderSearchCount").width();if(mHW>mW){$(o.tO).find(".gridTableHeaderSearchHold").width(mW-7);$(o.tO).find(".gridSearchInput").width(mW-(39+sCW));$(o.tO).find(".gridTableHold").width(mW);$(o.tO).find(".gridTableFooter").width(mW-2);$(o.tO).find(".gridsearchHeaderHold").width(mW-2);$(o.tO).width(mW);}else{$(o.tO).find(".gridTableHeaderSearchHold").width(mHW-7);$(o.tO).find(".gridSearchInput").width(mHW-(39+sCW));$(o.tO).find(".gridTableHold").width(mHW+2);$(o.tO).find(".gridTableFooter").width(mHW);$(o.tO).find(".gridsearchHeaderHold").width(mHW);$(o.tO).width(mHW+2);}$(o.tO).find(".gridTableHeader").width(mHW);$(o.tO).find(".dataGridRow").width(mHW-20);$(o.tO).find(".gridTableContents").width(mHW);return mHW;};o.sT=function(){$(o.tO).show();var mHH = 0;$(o.tO).find(".gridTableHeaderCell").each(function(i){var eH=$(this).height();if(eH>mHH){mHH=eH;}});$(o.tO).find(".gridHeaderCellSeperator").height(mHH);$(o.tO).find(".gridTableHeaderCell").height(mHH);$(o.tO).find(".gridTableHeader").height(mHH+3);var mRH=0;$(o.tO).find(".dataGridRow:first").find(".dataGridRowCell").each(function(i){var eH=$(this).height();if(eH>mRH){mRH=eH;}});$(o.tO).find(".dataGridRowCell").height(mRH);$(o.tO).find(".dataGridRow").height(mRH+8);o.rZ();};o.populateNewJson=function(nJAO){o.jAO = genTableSpecificJSON(nJAO,o.sEF);if(o.tE){delete o.mR;o.mR = new Object();}if(o.sEF){o.oJAO=o.jAO;}o.p.tRC=o.jAO.length;o.p.rC=(o.p.tRC<o.p.dRC)?o.p.tRC:o.p.dRC;o.p.sI=0;o.p.eI=o.p.rC-1;o.p.pC=Math.ceil(o.p.tRC/o.p.rC);o.p.pI=1;o.p.sS=o.p.sI+1;o.p.eS=o.p.eI+1;o.p.sR=0;for(var idx=0;idx<o.p.dRC;idx++){$(o.p.dRE[idx]).hide();}$(o.tO).find(".gridSelectAll").prop('checked',false);$(o.tO).find(".gridSelectAll").prop('indeterminate',false);o.uFSR();o.uFDD();o.uTL();};o.changeTheme=function(nCP){$(o.table).find(o.p.cP+"-table-layout").removeClass(o.p.cP+"-table-layout").addClass(nCP+"-table-layout");$(o.table).find(o.p.cP+"-header-row").removeClass(o.p.cP+"-header-row").addClass(nCP+"-header-row");$(o.table).find(o.p.cP+"-row-odd").removeClass(o.p.cP+"-row-odd").addClass(nCP+"-row-odd");$(o.table).find(o.p.cP+"-row-even").removeClass(o.p.cP+"-row-layout").addClass(nCP+"-table-layout");$(o.table).find(o.p.cP+"-row-hover").removeClass(o.p.cP+"-row-layout").addClass(nCP+"-table-layout");$(o.table).find(o.p.cP+"-row-selected").removeClass(o.p.cP+"-row-selected").addClass(nCP+"-row-selected");$(o.table).find(o.p.cP+"-footer-row").removeClass(o.p.cP+"-footer-row").addClass(nCP+"-footer-row");$(o.table).find(o.p.cP+"-icon").removeClass(o.p.cP+"-icon").addClass(nCP+"-icon");$(o.table).find(o.p.cP+"-icon-seek-first").removeClass(o.p.cP+"-icon-seek-first").addClass(nCP+"-icon-seek-first");$(o.table).find(o.p.cP+"-icon-seek-prev").removeClass(o.p.cP+"-icon-seek-prev").addClass(nCP+"-icon-seek-prev");$(o.table).find(o.p.cP+"-icon-seek-next").removeClass(o.p.cP+"-icon-seek-next").addClass(nCP+"-icon-seek-next");$(o.table).find(o.p.cP+"-icon-seek-end").removeClass(o.p.cP+"-icon-seek-end").addClass(nCP+"-icon-seek-end");$(o.table).find(o.p.cP+"-icon-triangle-1-n").removeClass(o.p.cP+"-icon-triangle-1-n").addClass(nCP+"-icon-triangle-1-n");$(o.table).find(o.p.cP+"-icon-triangle-1-s").removeClass(o.p.cP+"-icon-triangle-1-s").addClass(nCP+"-icon-triangle-1-s");o.p.cP=nCP;};o.deleteSelectedRecords=function(){if(!o.tE){return;}if(o.sEF){var len=o.oJAO.length;var idx=0;while(idx<len){if(o.oJAO[idx]!=undefined&&o.oJAO[idx].c){o.oJAO.splice(idx,1);}else{idx++;}}o.jAO=o.oJAO;}else{var idx1 = 0;while(idx1<o.p.tRC){if(o.jAO[idx1]!=undefined&&o.jAO[idx1].c){o.jAO.splice(idx1,1);}else{idx1++;}}}delete o.mR;o.mR=new Object();o.p.tRC=o.jAO.length;o.p.rC=(o.p.tRC<o.p.dRC)?o.p.tRC:o.p.dRC;o.p.sI=0;o.p.eI=o.p.rC-1;o.p.pC=Math.ceil(o.p.tRC/o.p.rC);o.p.pI=1;o.p.sS=o.p.sI+1;o.p.eS=o.p.eI+1;o.p.sR=0;o.uFSR();o.uFDD();o.uTL();};o.saveModifiedRows=function(){if(!o.tE){return;}$.each(o.mR,function(idx,obj){$.each(obj,function(objId,objVal){if(o.sEF){o.oJAO[idx][objId]=objVal;o.oJAO[idx].c=false;}else{o.jAO[idx][objId]=objVal;o.jAO[idx].c=false;}});});delete o.mR;o.mR=new Object();o.p.sR=0;o.uFSR();o.uTL();};o.getSelectedorModifiedRows=function(){var jSA=[];if(o.tE){$.each(o.mR,function(key,obj){jSA.push(obj);});}else{if(o.sEF){for(var idx1=0;idx1<o.oJAO.length;idx1++){if(o.jAO[idx1].c){var nO=$.extend({},o.oJAO[idx1]);delete nO.c;delete nO.t;jSA.push(nO);}}} else {for(var idx1=0;idx1<o.p.tRC;idx1++){if(o.jAO[idx1].c){var nO=$.extend({},o.jAO[idx1]);delete nO.c;jSA.push(nO);}}}}return jSA;};o.getRows=function(){var jA=[];if(o.sEF){for(var idx=0;idx<o.oJAO.length;idx++){var nO=$.extend({},o.oJAO[idx]);delete nO.c;delete nO.t;jA.push(nO);}}else{for(var idx1=0;idx1<o.p.tRC;idx1++){var nO=$.extend({},o.jAO[idx1]);delete nO.c;jA.push(nO);}}return jA;};o.destroy=function(){$(o.tO).remove();o.$this.data('o',undefined);o.$this.removeData();};if(opts.MappingWithJson!=null&&$.isArray(opts.MappingWithJson)&&opts.MappingWithJson.length>0){o=cHT(o);}}else{o=$(this).data('o');}os.push(o);});if(os.length===1){r_d=os[0];}else{r_d=os;}r_d.all=function(cb){$.each(os,function(i){cb.call(this,i);});};return r_d;};
})(jQuery);